!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.devtools={})}(this,function(t){"use strict";var u=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function s(t,e){e="string"==typeof e?e.split("."):e;for(var n=t,a=0;a<e.length;a++)n=n?n[e[a]]:n;return n}function i(t,e,n){return 0===(e="string"==typeof e?e.split("."):e).length?n:c(Array.isArray(t)?[]:{},t,((a={})[e[0]]=1<e.length?i(t[e[0]]||{},e.slice(1),n):n,a));var a}function c(t,e,n){for(var a in e)t[a]=e[a];for(var a in n)t[a]=n[a];return t}function p(t,e){if(e&&e.result){var n=e.action.split(".");return n.pop(),a=t,o=n,r=e.result,i(a,o,c(Array.isArray(r)?[]:{},s(a,o),r))}var a,o,r;return t}function d(t,e,n){return void 0===n&&(n={}),{name:n.name||"Initial State",states:(n.states||[]).concat([t]),collapsed:e}}var e={log:function(l){return function(t){if("INITIALIZE"===l.type){var e=u({},t.runs),n={state:l.state};return e[l.id]={id:l.id,timestamp:l.timestamp,actions:[d(n,t.collapseRepeatingActions)],collapsed:!1},{runs:e,selectedState:n}}if("ACTION"===l.type){var a=(e=u({},t.runs))[l.id],o=a.actions.slice(),r=o.pop(),s=(c=r).states[c.states.length-1];n=void 0;if(r.name===l.action){var i=d(n={state:p(s.state,l),actionData:l.data,actionResult:l.result,previousState:s.state},t.collapseRepeatingActions,r);e[l.id]={id:l.id,timestamp:e[l.id].timestamp,collapsed:a.collapsed,actions:o.concat([i])}}else{i=d(n={state:p(s.state,l),actionData:l.data,actionResult:l.result,previousState:s.state},t.collapseRepeatingActions,{name:l.action});e[l.id]={id:l.id,timestamp:e[l.id].timestamp,collapsed:a.collapsed,actions:o.concat([r,i])}}return{runs:e,selectedState:n}}if("RUNTIME"===l.type)return{logs:t.logs.concat([l])};var c;console.log("Error, got unexpected event: ",l)}},toggleRun:function(n){return function(t){var e=u({},t.runs);return e[n]=u({},e[n],{collapsed:!e[n].collapsed}),{runs:e}}},toggleAction:function(a){return function(t){var e=[a.run,"actions",a.actionId,"collapsed"],n=s(t.runs,e);return{runs:i(t.runs,e,!n)}}},select:function(t){return{selectedState:t}},showPane:function(t){return{paneShown:t}},toggleCollapseRepeatingActions:function(){return function(t){return{collapseRepeatingActions:!t.collapseRepeatingActions}}},toggleShowFullState:function(){return function(t){return{showFullState:!t.showFullState}}},deleteRun:function(n){return function(t){var e=u({},t.runs);return delete e[n],{runs:e}}}};t.state={runs:{},logs:[],paneShown:!1,selectedState:null,collapseRepeatingActions:!0,showFullState:!0},t.actions=e,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-devtools.min.js.map
