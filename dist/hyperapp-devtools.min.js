!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.devtools=n()}(this,function(){"use strict";var n={runs:{},logs:[],paneShown:!1,selectedState:null,collapseRepeatingActions:!0,showFullState:!0},l=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t};function u(t,n){n="string"==typeof n?n.split("."):n;for(var e=t,r=0;r<n.length;r++)e=e?e[n[r]]:e;return e}function i(t,n,e){return 0===(n="string"==typeof n?n.split("."):n).length?e:s(Array.isArray(t)?[]:{},t,((r={})[n[0]]=1<n.length?i(t[n[0]]||{},n.slice(1),e):e,r));var r}function s(t,n,e){for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function p(t,n){if(n&&n.result){var e=n.action.split(".");return e.pop(),r=t,o=e,a=n.result,i(r,o,s(Array.isArray(a)?[]:{},u(r,o),a))}var r,o,a;return t}function f(t,n,e){return void 0===e&&(e={}),{name:e.name||"Initial State",states:(e.states||[]).concat([t]),collapsed:n}}var e={log:function(n){return function(t){return{logs:t.logs.concat([n])}}},logInit:function(r){return function(t){var n=l({},t.runs),e={state:r.state};return n[r.runId]={id:r.runId,timestamp:r.timestamp,actions:[f(e,t.collapseRepeatingActions)],collapsed:!1},{runs:n,selectedState:e}}},logAction:function(c){return function(t){var n,e,r=l({},t.runs),o=r[c.runId],a=o.actions.slice(),u=a.pop(),i=(n=u).states[n.states.length-1];if(u.name===c.action){var s=f(e={state:p(i.state,c),actionData:c.data,actionResult:c.result,previousState:i.state},t.collapseRepeatingActions,u);r[c.runId]={id:c.runId,timestamp:r[c.runId].timestamp,collapsed:o.collapsed,actions:a.concat([s])}}else{s=f(e={state:p(i.state,c),actionData:c.data,actionResult:c.result,previousState:i.state},t.collapseRepeatingActions,{name:c.action});r[c.runId]={id:c.runId,timestamp:r[c.runId].timestamp,collapsed:o.collapsed,actions:a.concat([u,s])}}return{runs:r,selectedState:e}}},toggleRun:function(e){return function(t){var n=l({},t.runs);return n[e]=l({},n[e],{collapsed:!n[e].collapsed}),{runs:n}}},toggleAction:function(r){return function(t){var n=[r.run,"actions",r.actionId,"collapsed"],e=u(t.runs,n);return{runs:i(t.runs,n,!e)}}},select:function(t){return{selectedState:t}},showPane:function(t){return{paneShown:t}},toggleCollapseRepeatingActions:function(){return function(t){return{collapseRepeatingActions:!t.collapseRepeatingActions}}},toggleShowFullState:function(){return function(t){return{showFullState:!t.showFullState}}},deleteRun:function(e){return function(t){var n=l({},t.runs);return delete n[e],{runs:n}}}};function r(t,n){return function(t,n){for(var e=[],r=[],o=arguments.length;2<o--;)e.push(arguments[o]);for(;e.length;){var a=e.pop();if(a&&a.pop)for(o=a.length;o--;)e.push(a[o]);else null!=a&&!0!==a&&!1!==a&&r.push(a)}return"function"==typeof t?t(n||{},r):{nodeName:t,attributes:n||{},children:r,key:n&&n.key}}("div",null,"debug tools")}var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=function(){return t[Math.floor(Math.random()*t.length)]},c=function(){return Array.apply(null,Array(16)).map(o).join("")};return function(o){var t=document.createElement("div");t.id="hyperapp-devtools",document.body.appendChild(t);var a=o(n,e,r,t),u=c();return function(t,n,e,r){return(n=function e(u,i,r,t){var s=t?t+".":"";return Object.keys(r||{}).reduce(function(t,n){var o=s+n,a=r[n];return t[n]="function"==typeof a?function(r){return function(t,n){var e=a(r);return e="function"==typeof e?e(t,n):e,u({type:"call-done",action:o,data:r,result:e,runId:i}),e}}:e(u,i,a,o),t},{})}(a.logAction,u,n)).$__SET_STATE=function(t){return t},o(t,n,e,r)}}});
//# sourceMappingURL=hyperapp-devtools.min.js.map
